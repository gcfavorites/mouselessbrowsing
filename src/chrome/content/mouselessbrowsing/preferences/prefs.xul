<?xml version="1.0"?>
<?xml-stylesheet href="chrome://browser/skin/"?>
<?xml-stylesheet href="chrome://mouselessbrowsing/content/common/common.css" type="text/css"?>

<!-- 
 *
 * Mouseless Browsing 
 * Version 0.5
 * Created by Rudolf Noï¿½
 * 01.01.2008
 *
 * The "keyinputbox" is borrowed from Hit-a-Hint created by 
 * Pekka P. Sillanpaa (c) (THANKS!)
 * 
 * -->

<dialog xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        xmlns:html="http://www.w3.org/1999/xhtml"
        id="pref-mouselessbrowsing"
        title="Mouseless Browsing 0.5"
        centerWindowOnScreen="true"
        modal="true"
        onload="doOnload()"
        ondialogaccept="saveUserPrefs()"
        ondialoghelp="dialogHelp()"
        buttons="help,accept,cancel"
        >

    <script type="application/x-javascript" src="../mlb_common.js"/>
    <script type="application/x-javascript" src="prefs_dialog.js"/>
    
    <tabbox>
      <tabs>
        <tab label="General"/>
        <tab label="Styles"/>
        <tab label="Keys"/>
      </tabs>
      <tabpanels>
        <tabpanel id="generaltab">
            <vbox flex="1">
           <groupbox >
           <caption label="General Options"></caption>
           <grid >
                <rows>
                    <row>
                        <checkbox id="onDemandFlag" label="Show ids only on demand" prefid="mouselessbrowsing.showIdsOnDemand" defaultValue="0"/>
                    </row>
                    <row>
                        <checkbox id="status" label="Show keybuffer in statusbar" prefid="mouselessbrowsing.showKeybufferInStatusbar" defaultValue="1"/>
                    </row>
                    <row>
                        <checkbox id="exclusiveNumpad" label="Use numpad exclusively for Mouseless Browsing" prefid="mouselessbrowsing.exclusiveNumpad" defaultValue="0"/>
                    </row>
                    <row>
                        <checkbox id="executeAutomatic" label="Execute automatically without pressing Enter" prefid="mouselessbrowsing.executeAutomatic" defaultValue="false"/>
                    </row>
                    <row>
                        <grid>
                            <colums>
                                <colum flex="1"/>
                                <colum flex="1"/>
                            </colums>
                            <rows>
                                <row align="center">
                                    <label value="Delay for automatic execution/clearing keybuffer (msec)"/>
                                    <textbox id="autoExecuteDelay" prefid="mouselessbrowsing.autoExecuteDelay" defaultValue="500" maxlength="6" width="70"/>
                                </row>
                                <row align="center">
                                     <label value="Pixels to scroll when pressing shortcuts"/>
                                     <textbox id="pixelsToScroll" prefid="mouselessbrowsing.pixelsToScroll" defaultValue="150" maxlength="6" width="70"/>
                                </row>
                            </rows>
                        </grid>
                    </row>                    
                </rows>
            </grid>
            </groupbox>
            <groupbox>
            <caption label="Visibility of ids"></caption>
            <grid>
                <rows>
                    <row>
                        <checkbox id="allIds" label="Hide all Ids" prefid="mouselessbrowsing.disableAllIds" defaultValue="0" oncommand="MLB_onTogglingVisibilityAllIds()"/>
                    </row>
                    <row align="center">
                        <checkbox id="links" style="margin-left:30px" label="Enable ids for text-links" prefid="mouselessbrowsing.enableLinkIds" defaultValue="1" visibilityFlag="true"/>
                    </row>
                    <row align="center">
                        <checkbox id="imglinks" style="margin-left:30px" label="Enable ids for image-links" prefid="mouselessbrowsing.enableImgLinkIds" defaultValue="1" visibilityFlag="true"/>
                    </row>
                    <row align="center">
                        <checkbox id="formelements" style="margin-left:30px" label="Enable ids for form elements" prefid="mouselessbrowsing.enableFormElementIds" defaultValue="1" visibilityFlag="true"/>
                    </row>
                    <row align="center">
                        <checkbox id="frames" style="margin-left:30px" label="Enable ids for frames" prefid="mouselessbrowsing.enableFrameIds" defaultValue="1" visibilityFlag="true"/>
                    </row>
                 </rows>
           </grid>
           </groupbox>
            </vbox>
        </tabpanel>
        <tabpanel id="styletab">
            <vbox flex="1">
            <groupbox>
            <grid flex="1">
                <columns>
                  <column flex="1"/>
                </columns>
                <rows>
                    <row>
                        <label value="Style for id span"/>&#160;
                    </row>
                    <row>
                        <textbox prefid="mouselessbrowsing.styleForIdSpan" flex="1" multiline="true" rows="5"/>
                    </row>
                    <row>
                        <label value="Style for frame id span"/>&#160;
                    </row>
                    <row>
                        <textbox prefid="mouselessbrowsing.styleForFrameIdSpan" flex="1" multiline="true" rows="5"/>
                    </row>
<!--  For Version 0.4
                    <row>
                        <checkbox id="smartPositioningOfImg" 
                                  label="Use smart positioning of image ids" 
                                  prefid="mouselessbrowsing.smartPositioningOfImg" 
                                  defaultValue="1"
                                  onclick="onClickSmartPos(event)"/>
                    </row>
                    <row>
                        <hbox>
                            <spacer style="width:30px"/>
                            <vbox>
                                <grid>
                                    <rows>
                                        <row>
                                            <label value="Use smart positioning for images that are higher than"/>
                                            <textbox id="smartPosMinHeight" prefid="mouselessbrowsing.smartPosMinHeight" default="40" />
                                        </row>
                                        <row>
                                            <label value="Use smart positioning for images that are wider than"/>
                                            <textbox id="smartPosMinWidth" prefid="mouselessbrowsing.smartPosMinWidth" default="60" />
                                        </row>
                                    </rows>
                                </grid>
                                <label value="Style for image id span"/>
                                <textbox id="styleForImageIdSpan" prefid="mouselessbrowsing.styleForImageIdSpan" flex="1" defaultValue="z-index:500;font-size:xx-small;font-family:sans-serif;border-color:grey; border-width:1px;border-style:solid;padding:0px 3px 0px 3px;"/>                                    
                            </vbox>
                        </hbox>
                    </row>
 -->
                </rows>
            </grid>
            </groupbox>
            <spacer flex="1"/>
            </vbox>
        </tabpanel>
        <tabpanel id="keytab">
            <vbox flex="1">
                <groupbox>
                <grid>
                    <colums>
                        <colum flex="1"/>
                        <colum flex="1"/>
                    </colums>
                    <rows>
                        <row align="center">
                            <label value="Toggling visibility of ids on/off"/>
                            <keyinputbox prefid="mouselessbrowsing.keys.toggleMLB" maxlength="1" size="20" allowmodifiers="true"/>
                        </row>
                        <row align="center">
                            <label value="Toggling visibility of ids for all/only configured elements"/>
                            <keyinputbox prefid="mouselessbrowsing.keys.toggleAllIds" maxlength="1" size="20" allowmodifiers="true"/>
                        </row>
                        <row align="center">
                            <label value="Toggling exclusive use of numpad"/>
                            <keyinputbox prefid="mouselessbrowsing.keys.toggleExlusiveUseOfNumpad" maxlength="1" size="20" allowmodifiers="true"/>
                        </row>
                        <row>
                             <label value="Clearing keybuffer"/>
                             <keyinputbox prefid="mouselessbrowsing.keys.clearKeybuffer" maxlength="1" size="20" allowmodifiers="true"/>
                        </row>
                        <row>
                             <label value="Postfix-key to open link in new tab"/>
                             <keyinputbox prefid="mouselessbrowsing.keys.openInNewTabPostfixKey" maxlength="1" size="20" allowmodifiers="true"/>
                        </row>
                        <row>
                             <label value="Postfix-key to select a link"/>
                             <keyinputbox prefid="mouselessbrowsing.keys.selectLink" maxlength="1" size="20" allowmodifiers="true"/>
                        </row>
                        <row>
                             <label value="History back"/>
                             <keyinputbox prefid="mouselessbrowsing.keys.historyBack" maxlength="1" size="20" allowmodifiers="true"/>
                        </row>
                        <row>
                             <label value="History forward"/> 
                             <keyinputbox prefid="mouselessbrowsing.keys.historyForward" maxlength="1" size="20" allowmodifiers="true"/>
                        </row>
                        <row>
                             <label value="Scroll down"/> 
                             <keyinputbox prefid="mouselessbrowsing.keys.scrollDown" maxlength="1" size="20" allowmodifiers="true"/>
                        </row>
                        <row>
                             <label value="Scroll up"/> 
                             <keyinputbox prefid="mouselessbrowsing.keys.scrollUp" maxlength="1" size="20" allowmodifiers="true"/>
                        </row>
                        <row>
                             <label value="Open Configuration"/> 
                             <keyinputbox prefid="mouselessbrowsing.keys.openConfig" maxlength="1" size="20" allowmodifiers="true"/>
                        </row>
                    </rows>
                </grid>
                </groupbox>
                <spacer flex="1"/>
            </vbox>
        </tabpanel>
      </tabpanels>
    </tabbox>
</dialog>
